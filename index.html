<!DOCTYPE html>
<html lang="en">    
    <head>        
        <title>lab3</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="desc" content="An interactive html.">
        <link rel="stylesheet" href="main.css">
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type='text/javascript' src="js/knockout.js"></script>
        <script type='text/javascript' src="js/knockout.mapping-latest.js"></script>

    </head>
    
    <body>        
        <script type='text/javascript' src="js/myscript.js"></script>
        
        <img src="screenshots/quick-edit.png" alt=":(">
        <div id="mainContainer">
        <nav>     
            <a href="#ManageStudents"><button  class="button button2 button_students">Manage students</button></a>
            <a href="#ManageCourses"><button  class="button button2 button_courses">Manage courses</button></a>
       </nav>
        <div class="column_container">
        <div class="container" id="ManageCourses">                
            <h1>List of Courses</h1>              
               
            <form>                     
                    <div class="row row--3cols">
                        <div class ="cell">
                          <input class="search_input" placeholder="Subject">                            
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Teacher" id="GET-firstName" type="text" name="firstName">
                        </div>                   
                        <div class ="cell noprint">
                        Actions
                        </div>
                    </div>
                    <!-- ko if: self.Subjects -->
                        <!-- ko foreach: self.Subjects -->
                            <div  class="row row--3cols" >
                                <div class ="cell" data-bind="text: subjectName">
                                </div>
                               <div class ="cell" data-bind="text: teacherFullname">
                                </div>                   
                                <div class ="cell noprint">
                                    <Button class = "small_button" onclick="location.href = '#ManageSeeAllGrades'" data-bind="click: function() { filterBySubject($data) }">Grades</Button>
                                    <Button class = "small_button" data-bind="click: function() { RemoveSubject($data) }">Delete</Button>
                                </div>
                            </div>
                        <!-- /ko --> 
                    <!-- /ko --> 
                     <div class="row row--3cols">
                        <div class ="cell" type="input">
                          <input class="data_input" placeholder="Subject" type="text" data-bind="value: self.inputSubjectName">                         
                        </div>
                         <div class ="cell">
                          <input class="data_input" placeholder="First name" data-bind="value: self.inputTeacherFirstName">                 <input class="data_input" placeholder="Last name" type="text" name="firstName" data-bind="value: self.inputTeacherLastName">     
                        </div>           
                        <div class ="cell noprint">
                         <Button class = "small_button small_button--solo" data-bind="click: function() { AddSubject() }">Add subject</Button>
                        </div>
                    </div>
            </form>  
            
        </div>
        <div class="container" id="ManageStudents">
            <h1>List of Students</h1>
            <form>                     
                    <div class="row row--5cols">
                        <div class ="cell">
                          <input class="search_input" type="search" placeholder="Index" id="GET-index" type="text" name="firstName">
                            
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="First name" id="GET-firstName" type="text" name="firstName">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Last name" id="GET-lastName" type="text" name="lastName">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Born date" id="GET-born_date" type="text" name="date">
                        </div>
                        <div class ="cell noprint">
                        Actions
                        </div>
                    </div>
                    <!-- ko if: self.students -->
                        <!-- ko foreach: self.students -->
                            <!-- ko if: firstName -->
                                <div class="row row--5cols" >
                                    <div class ="cell" data-bind="text: index">
                                    </div>
                                   <div class ="cell" data-bind="text: firstName">
                                    </div>
                                    <div class ="cell" data-bind="text: lastName">
                                    </div>
                                     <div class ="cell" data-bind="text: bornDate">
                                    </div>
                                    <div class ="cell noprint">
                                        <Button class = "small_button" onclick="location.href = '#ManageSeeGrades'" data-bind="click: function() { filterByStudent($data) }">Grades</Button>
                                        <Button class = "small_button" data-bind="click: function() { RemoveStudent($data) }" >Delete</Button>
                                    </div>
                                </div>
                            <!-- /ko --> 
                        <!-- /ko --> 
                    <!-- /ko --> 
                    <div class="row row--5cols">
                        <div class ="cell" type="input">
                          <input class="data_input" placeholder="Index" type="text" data-bind="value: self.inputIndex">                         
                        </div>
                         <div class ="cell">
                          <input class="data_input" placeholder="First name" data-bind="value: self.inputStudentFirstName">  
                        </div> 
                        <div class ="cell">
                        <input class="data_input" placeholder="Last name" type="text" name="firstName" data-bind="value: self.inputStudentLastName">     
                             </div>
                        
                        <div class ="cell" type="input">
                          <input class="data_input" placeholder="yyyy-mm-dd" type="text" data-bind="value: self.inputBornDate">                         
                        </div>
                        <div class ="cell noprint">
                         <Button class = "small_button small_button--solo" data-bind="click: function() { AddStudent() }">Add student</Button>
                        </div>
                    </div>
                
            </form>  
        </div>
        <div class="container" id="ManageSeeGrades">
            <h1>List of Grades: 
                <span data-bind="text: self.gradeStudentFilter().firstName"> </span> 
                <span data-bind="text: self.gradeStudentFilter().lastName"> </span>
            </h1>
            <form>                
                    <div class="row row--4cols">
                        <div class ="cell">
                            
                        <select class="selectBox" id="SelectSubjectToGetGrades" name="text" data-bind="options: Subjects, optionsText: 'subjectName', optionsCaption: 'Wybierz', value: selectedSubject, valueUpdate: 'input'">  
                        </select>
                            
                    </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Grade"  type="text" name="grade">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Date" type="text" name="grade_date">
                        </div>
                        <div class ="cell noprint">
                        Actions
                        </div>
                    </div>
                    
                    <!-- ko foreach: self.filterGrades() -->
                        <!-- ko if: self.selectedSubject() -->
                        <div class="row row--4cols">
                            <div class ="cell" data-bind="text: self.selectedSubject().subjectName">
                              Matematyka
                            </div>
                           <div class ="cell" data-bind="text: gradeValue" step="0.5" min="2.0" max ="5.5">
                              2.0
                            </div>
                            <div class ="cell" data-bind="text: gradeDate">
                              24-03-70
                            </div>
                            <div class ="cell noprint">
                                <Button class = "small_button">Change</Button>
                                <Button class = "small_button" data-bind="click: function() { RemoveGrade($data, self.selectedSubject()) }" >Delete</Button>
                            </div>
                        </div>
                         <!-- /ko --> 
                     <!-- /ko -->
                    
                     <div class="row row--4cols">
                        <!-- ko if: self.selectedSubject() -->
                        <div class ="cell" >
                         <input class="data_input" data-bind="textInput: self.selectedSubject().subjectName" disabled>
                         </div>
                        <!-- /ko -->
                        <!-- ko ifnot: self.selectedSubject() -->
                        <div class ="cell"></div>
                        <!-- /ko -->
                        <div class ="cell">
                        <input class="data_input" type="number" placeholder="Grade" data-bind="value: self.inputGradeValue" step="0.5" min="2" max="5.5" onkeydown="preventNumberInput(event)"
               onkeyup="preventNumberInput(event)"></div> 
                        <div class ="cell" type="input">
                          <input class="data_input" placeholder="yyyy-mm-dd" type="text" data-bind="value: self.inputGradeDate"> </div>
                        <div class ="cell noprint">
                         <Button class = "small_button small_button--solo" data-bind="click: function() { AddGrade() }">Add grade</Button>
                        </div>
                    </div>
               
            </form>  
        </div>
            
            <div class="container" id="ManageSeeAllGrades">
            <h1>List of Grades: 
                <span data-bind="text: self.gradeSubjectFilter().subjectName"> </span> 
            </h1>
            <form>
                    <div class="row row--5cols">                       
                        <div class ="cell">
                          <input class="search_input" placeholder="First name" type="text">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Last name" type="text">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Grade" type="text">
                        </div>
                        <div class ="cell">
                          <input class="search_input" placeholder="Date" type="text">
                        </div>
                        <div class ="cell noprint">
                        Actions
                        </div>
                    </div>
                    
                        <!-- ko if: self.gradeSubjectFilter().gradesList -->
                        <!-- ko foreach: self.gradeSubjectFilter().gradesList -->
                                <div class="row row--5cols">        
                                   <div class ="cell" data-bind="text: referencedStudent.firstName">
                                    </div>
                                    <div class ="cell" data-bind="text: referencedStudent.lastName">
                                    </div>
                                   <div class ="cell" data-bind="text: gradeValue">
                                    </div>
                                    <div class ="cell" data-bind="text: gradeDate">
                                    </div>
                                    <div class ="cell noprint">
                                        <Button class = "small_button">Change</Button>
                                        <Button class = "small_button"  class = "small_button" data-bind="click: function() { RemoveGrade($data, self.gradeSubjectFilter()) }" >Delete</Button>
                                    </div>
                                </div>
                             <!-- /ko --> 
                             <!-- /ko --> 
                     <div class="row row--5cols">
                       
                    </div>
                </form>  
            </div>
            
        </div>
        </div>
        <br>
        <br>
        
        
        
        <footer>
        <br>
        <ul>
            <li><a href="https://elogin.put.poznan.pl">eLogin</a></li>
            <li><a href="https://fc.put.poznan.pl">Wydział Informatyki</a></li>
        </ul>
                        
        <p id="foot">created by Pawel Mania</p>
    </footer>
    </body>
    
</html>